import React, { Component } from 'react';import { View, Text, Image, FlatList, TouchableOpacity, Dimensions } from 'react-native';import {Button, Icon, Container, Header, Right, Body, Content, Left, Input, Form} from 'native-base';import CONST from "../consts";import axios from "axios/index";import { DoubleBounce } from 'react-native-loader';import Communications from 'react-native-communications';import Modal from "react-native-modal";import {connect} from "react-redux";class AcceptOrder extends Component{	constructor(props){		super(props);		this.state = {			visibleModal: null,			setRateValue: 1,		}	}	static navigationOptions = () => ({		drawerLabel: ()=> null,	});	render(){		return(			<Container>				<Header style={{ height: 70, backgroundColor: '#437c1a', paddingTop: 15 }}>					<Right style={{ flex: 0 }}>						<Button transparent onPress={() => this.props.navigation.openDrawer()}>							<Icon name='menu' type='Entypo' style={{ color: '#fff', fontSize: 30, marginTop: 8, left: -10 }} />						</Button>					</Right>					<Body style={{ width: '100%', alignItems: 'center', alignSelf: 'center' }}>					<Text style={{ color: '#fff', textAlign: 'center', marginRight: 20, fontSize: 18 }}>طلب جديد</Text>					</Body>					<Left style={{ flex: 0 }}>						<Button transparent onPress={() => this.props.navigation.goBack()}>							<Icon name={'ios-arrow-back'} type='Ionicons' style={{ color: '#fff' }} />						</Button>					</Left>				</Header>				<Content>					<View style={{ paddingHorizontal: 10 }}>						<View>							<View style={{ flex: 1, marginVertical: 15 }}>								<Text style={{ textAlign: 'center', color: '#57863c', fontSize: 20 }}>تهانينا</Text>								<Text style={{ textAlign: 'center', color: '#57863c', fontSize: 20 }}>تم قبول عرضك بنجاح</Text>							</View>							<Form style={{ marginTop: 10 }}>								<View style={{ flexDirection: 'row', marginBottom: 10 }}>									<Text style={{ flex: 2, color: '#518033', fontSize: 17  }}>اسم العميل :</Text>									<Input onChangeText={(name) => this.setState({name})} value={this.state.name} style={{ backgroundColor: '#f7f7f9', borderWidth: 1, borderColor: '#eeeeef', textAlign: 'center', height: 35, flex: 4 }}/>								</View>								<View style={{ flexDirection: 'row', marginBottom: 10 }} >									<Text style={{ flex: 2, color: '#518033', fontSize: 17  }}>نوع الطلب :</Text>									<Input disabled onChangeText={(city) => this.setState({city})} value={this.state.city} style={{ backgroundColor: '#f7f7f9', borderWidth: 1, borderColor: '#eeeeef', textAlign: 'center', height: 35, flex: 4 }}/>								</View>								<View style={{ flexDirection: 'row', marginBottom: 10 }}>									<Text style={{ flex: 2, color: '#518033', fontSize: 17  }}>الاجمالي :</Text>									<Input onChangeText={(phone) => this.setState({phone})} value={this.state.phone} style={{ backgroundColor: '#f7f7f9', borderWidth: 1, borderColor: '#eeeeef', textAlign: 'center', height: 35, flex: 4 }}/>								</View>								<View style={{ flexDirection: 'row', marginBottom: 10 }}>									<Text style={{ flex: 2, color: '#518033', fontSize: 17  }}>العمولة :</Text>									<Input onChangeText={(email) => this.setState({email})} value={this.state.email} style={{ backgroundColor: '#f7f7f9', borderWidth: 1, borderColor: '#eeeeef', textAlign: 'center', height: 35, flex: 4 }}/>								</View>								<View style={{ flexDirection: 'row', justifyContent: 'space-between', marginTop: 60 }}>									<Button style={{ backgroundColor: '#497629', flexDirection: 'row', width: 150, alignItems: 'center', justifyContent: 'center'  }}>										<Icon type={'FontAwesome'} name={'volume-control-phone'} style={{ color: '#fff', marginLeft: 0 }} />										<Text style={{ color: '#fff', textAlign: 'center' }}>اتصل بالعميل</Text>									</Button>									<Button style={{ backgroundColor: '#497629', flexDirection: 'row', width: 150, alignItems: 'center', justifyContent: 'center' }}>										<Icon type={'MaterialIcons'} name={'email'} style={{ color: '#fff', marginLeft: 0 }} />										<Text style={{ color: '#fff' }}>ارسل رسالة</Text>									</Button>								</View>							</Form>							<View style={{ marginTop: 20 }}>								<Button block style={{marginTop: 10, backgroundColor: '#eebc47', width: '100%', height: 40 ,alignSelf: 'center', borderRadius: 0, justifyContent: 'center', bottom: 20}} onPress={() => this.onAcceptProvider()}>									<Icon type={'FontAwesome'} name={'car'} style={{ color: '#fff', marginLeft: 0 }} />									<Text style={{color: '#fff', fontSize: 17, textAlign: 'center'}}>اضغط هنا للتوجه للعميل حسب الخريطة</Text>								</Button>								<Button block style={{marginTop: 10, backgroundColor: '#eebc47', width: '100%', height: 40 ,alignSelf: 'center', borderRadius: 0, justifyContent: 'center', bottom: 20}} onPress={() => this.setState({ visibleModal: 1 })}>									<Text style={{color: '#fff', fontSize: 17, textAlign: 'center'}}>انهاء الطلب (بعد التنفيذ)</Text>								</Button>							</View>						</View>						<Modal isVisible={this.state.visibleModal === 1} onBackdropPress={() => this.setState({ visibleModal: null })}>							<View style={{ backgroundColor: '#fff', justifyContent: 'center', alignItems: 'center', borderRadius: 10, height: 150, borderColor: 'rgba(0, 0, 0, 0.1)', }}>								<Header style={{ backgroundColor: '#437c1a', alignItems: 'center', width: '100%', height: 40, top: -8, borderTopRightRadius: 10, borderTopLeftRadius: 10 }}>									<Body style={{ flex: 1, alignItems: 'center' }}>									<Text style={{ textAlign: 'center', color: '#fff', fontSize: 20 }}>تأكيد المبلغ</Text>									</Body>								</Header>								<View>									<View style={{ flexDirection: 'row', justifyContent: 'space-between', marginTop: 5, marginBottom: 10 }}>										<Text style={{ color: '#629261', fontSize: 18 }}>المبلغ المحصل : </Text>										<Text style={{ fontSize: 18 }}>١٠٠٠ ريال</Text>									</View>								</View>								<View style={{ flex: 1, justifyContent: 'center', alignItems: 'center'}}>									<Button block style={{marginTop: 10, backgroundColor: '#eebc47', width: '100%', height: 40 ,alignSelf: 'center', borderRadius: 0, justifyContent: 'center', bottom: 20, alignItems: 'center' }} onPress={() => this.setState({ visibleModal: null })}>										<Text style={{ color: '#fff', fontSize: 17, textAlign: 'center', alignSelf: 'center' }}>تأكيد</Text>									</Button>								</View>							</View>						</Modal>					</View>				</Content>			</Container>		)	}}const mapStateToProps = ({ auth }) => {	return {		auth: auth.user	};};export default connect(mapStateToProps)(AcceptOrder);