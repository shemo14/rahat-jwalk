import React, { Component } from 'react';import {View, Text, KeyboardAvoidingView, Platform} from 'react-native';import {Button, Icon, Container, Header, Right, Body, Content, Left, Card, CardItem, Toast, List, ListItem } from 'native-base';import CONST from "../consts";import axios from "axios/index";import {connect} from "react-redux";import {Spinner} from "../common";const deviceType = Platform.OS;class Commission extends Component{	constructor(props){		super(props);		this.state = {			plans: []		}	}	static navigationOptions = () => ({		drawerLabel: 'دفع الاشتراك' ,		drawerIcon: ( <Icon style={{ fontSize: 20, color: '#437c1a' }} type={'FontAwesome'} name={'money'}/> )	});	componentWillMount() {		axios.post( CONST.url + 'show_Packages', { lang: 'ar' }).then(response => {			this.setState({ plans: response.data.data });		})	}	navigateToPay({id, name, cost}){		this.props.navigation.navigate('plans', { planId: id, name, cost });	}	render(){		return(			<Container>				<Header style={{ height: 70, backgroundColor: '#437c1a', paddingTop: 15 }}>					<Right style={{ flex: 0 }}>						<Button transparent onPress={() => this.props.navigation.openDrawer()}>							<Icon name='menu' type='Entypo' style={{ color: '#fff', fontSize: 30, marginTop: 8, left: -10 }} />						</Button>					</Right>					<Body style={{ width: '100%', alignItems: 'center', alignSelf: 'center' }}>					<Text style={{ color: '#fff', textAlign: 'center', marginRight: 20, fontSize: 18 }}>دفع الاشتراك</Text>					</Body>					<Left style={{ flex: 0 }}>						<Button transparent onPress={() => this.props.navigation.goBack()}>							<Icon name={'ios-arrow-back'} type='Ionicons' style={{ color: '#fff' }} />						</Button>					</Left>				</Header>				<Content style={{ padding: 10 }}>					{						this.state.plans.map(( plan, i) => (                        <Card key={i} style={{ backgroundColor: '#f7f7f9' , marginLeft:deviceType === 'ios' ? 20 : 0}}>							<CardItem>								<Body style={{ alignItems: 'center' }}>									<Text style={{ fontSize: 18, color: '#589349', fontWeight: 'bold', marginBottom: 5 }}>{ plan.name }</Text>									<Text style={{ color: '#85b084', fontWeight: 'bold' }}>مبلغ الاشتراك : <Text style={{ color: '#a7a8a8' }}> { plan.cost } ريال </Text></Text>									<View style={{ backgroundColor: '#ececec', marginTop: 10, width: '100%', padding: 5, borderRadius: 5 }}>										<View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>											<Text style={{ color: '#a6a6a6', flex: 2, marginRight: 10 , top:5 , textAlign:'right' , writingDirection: 'rtl' }}> { plan.details } </Text>											<Icon style={{ color: '#589349' }} type='Feather' name='info' />										</View>									</View>									<Button block style={{marginTop: 5, backgroundColor: '#eebc47', width: '100%', height: 40 ,alignSelf: 'center', borderRadius: 0, justifyContent: 'center' }} onPress={() => this.navigateToPay(plan)} primary>										<Text style={{color: '#fff', fontSize: 17, textAlign: 'center'}}>اشترك الان</Text>									</Button>								</Body>							</CardItem>                        </Card>						))					}				</Content>			</Container>		)	}}const mapStateToProps = ({ profile }) => {	return {		profile: profile.user	};};export default connect(mapStateToProps)(Commission);